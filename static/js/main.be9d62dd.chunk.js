(this.webpackJsonpyispace_country=this.webpackJsonpyispace_country||[]).push([[0],{190:function(e,t,n){"use strict";n.r(t);var a=n(185),i=n(186),l=n(53),s=n(189),c=n(188),r=n(65),o=n.n(r),d=n(187),u=n.n(d),h=(n(195),n(2)),b=function(e){Object(s.a)(r,e);var t=Object(c.a)(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).state={Countries:[],ShowingCountries:[],SortingClass:"fa fa-sort-alpha-asc",CurrentPage:1},n.SortTableClick=n.SortTableClick.bind(Object(l.a)(n)),n.SwitchPage=n.SwitchPage.bind(Object(l.a)(n)),n}return Object(i.a)(r,[{key:"render",value:function(){return Object(h.jsxs)("div",{id:"container",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{id:"title",children:"Country List"}),Object(h.jsx)("label",{children:"Name:"}),Object(h.jsx)("input",{type:"text",id:"txtName"}),Object(h.jsx)("button",{id:"btnSearch",onClick:this.btnSearchClick.bind(this),children:"\u67e5\u8a62"}),Object(h.jsx)("table",{id:"country",className:"CountryList",children:Object(h.jsxs)("tbody",{children:[Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"\u570b\u65d7"}),Object(h.jsxs)("th",{className:"SortCol",onClick:this.SortTableClick,children:["\u570b\u5bb6\u540d\u7a31 ",Object(h.jsx)("i",{className:this.state.SortingClass,"aria-hidden":"true"})]}),Object(h.jsx)("th",{children:"2\u4f4d\u570b\u5bb6\u4ee3\u78bc"}),Object(h.jsx)("th",{children:"3\u4f4d\u570b\u5bb6\u4ee3\u78bc"}),Object(h.jsx)("th",{children:"\u6bcd\u8a9e\u540d\u7a31"}),Object(h.jsx)("th",{children:"\u66ff\u4ee3\u570b\u5bb6\u540d\u7a31"}),Object(h.jsx)("th",{children:"\u570b\u969b\u96fb\u8a71\u5340\u865f"})]}),this.RenderTableData()]})}),Object(h.jsx)("ul",{className:"Pagination",id:"ulPagination"})]}),Object(h.jsx)("div",{id:"myModal",className:"modal",children:Object(h.jsxs)("div",{className:"modal-content",children:[Object(h.jsx)("span",{className:"close",onClick:this.CloseModalClick.bind(this),children:"\xd7"}),Object(h.jsx)("div",{id:"divModalContent"})]})})]})}},{key:"componentDidMount",value:function(){this.btnSearchClick(),document.getElementById("ulPagination").addEventListener("click",this.SwitchPage);var e=this,t=document.getElementById("myModal");t.addEventListener("click",(function(n){n.target===t&&e.CloseModalClick()})),window.addEventListener("keyup",(function(t){"Enter"===t.key&&e.btnSearchClick()}))}},{key:"btnSearchClick",value:function(){var e=document.getElementById("txtName").value.toUpperCase(),t=this,a=n(102),i="all";""!==e&&(i="name/"+e),a("https://restcountries.eu/rest/v2/"+i+"?fields=flag;name;alpha2Code;alpha3Code;nativeName;altSpellings;callingCodes",(function(n,a,i){if(console.error("error:",n),console.log("statusCode:",a&&a.statusCode),200===a.statusCode){var l=JSON.parse(i),s=[];for(var c in l)l[c].name.toUpperCase().includes(e)&&s.push(l[c]);s.sort((function(e,t){var n=e.name.toUpperCase(),a=t.name.toUpperCase();return n<a?-1:n>a?1:0})),"fa fa-sort-alpha-desc"==t.state.SortingClass&&(s=s.reverse()),t.setState({Countries:s,CurrentPage:1}),t.Pagination()}else t.setState({Countries:null,ShowingCountries:null}),document.getElementById("ulPagination").innerHTML=""}))}},{key:"OpenModalClick",value:function(e){n(102)("https://restcountries.eu/rest/v2/name/"+e,(function(e,t,n){console.error("error:",e),console.log("statusCode:",t&&t.statusCode);var a="";if(200===t.statusCode){a+='<table class="tableDetail">';var i=JSON.parse(n)[0],l=["flag","alpha2Code","alpha3Code","nativeName","altSpellings","callingCodes"],s=["currencies","languages","regionalBlocs","translations"];for(var c in i)if(!(l.indexOf(c)>=0))if(s.indexOf(c)>=0){if(a+="<tr>",a+='<td><label style="font-weight:bold; align:top;">'+c+"</label></td>","translations"===c){for(var r in a+="<td>",i[c])a+='<label">'+r+":"+i[c][r]+", </label>";a=a.replace(/, <\/label>\s*$/,"</label>"),a+="</td>"}else a+="<td>",i[c].forEach((function(e){for(var t in e)a+='<label">'+t+":"+e[t]+", </label>";a=a.replace(/, <\/label>\s*$/,"</label>")})),a+="</td>";a+="</tr>"}else a+="<tr>",a+='<td><label style="font-weight:bold;align:top;">'+c+"</label></td>",a+="<td><label>"+i[c]+"</label></td>",a+="</tr>";a+="</table>"}else a+="<p>\u67e5\u7121\u8cc7\u6599</p>";document.getElementById("divModalContent").innerHTML=a,document.getElementById("myModal").style.display="block"}))}},{key:"CloseModalClick",value:function(){document.getElementById("myModal").style.display="none"}},{key:"SortTableClick",value:function(){"fa fa-sort-alpha-asc"==this.state.SortingClass?this.setState({SortingClass:"fa fa-sort-alpha-desc"}):this.setState({SortingClass:"fa fa-sort-alpha-asc"}),null!=this.state.Countries&&this.setState({Countries:this.state.Countries.reverse()}),this.Pagination()}},{key:"Pagination",value:function(){var e=[],t=this.state.Countries,n=null==t?0:t.length,a=Math.ceil(n/25),i=this.state.CurrentPage,l=25*i;l>n&&(l=n);for(var s=25*(i-1);s<l;s++)e.push(t[s]);this.setState({ShowingCountries:e});var c="";if(0!=e.length){1!=i&&(c+='<li><a href="#" page=prev><</a></li>');var r=1;i>6&&(r=i-5);var o=r+9;o>a&&(o=a);for(var d=r;d<o+1;d++)c+=i==d?'<li><a class="active" href="#" page='+d+">"+d+"</a></li>":'<li><a href="#" page='+d+">"+d+"</a></li>";i!=a&&(c+='<li><a href="#" page=next>></a></li>')}document.getElementById("ulPagination").innerHTML=c}},{key:"SwitchPage",value:function(e){e.preventDefault();var t=e.target.getAttribute("page"),n=this.state.CurrentPage;"prev"===t?n--:"next"===t?n++:n=t,this.setState({CurrentPage:n}),this.Pagination(),window.scroll(0,0)}},{key:"RenderTableData",value:function(){var e=this;return null==this.state.ShowingCountries||0==this.state.ShowingCountries.length?Object(h.jsx)("tr",{children:Object(h.jsx)("td",{colSpan:"7",children:"\u67e5\u7121\u8cc7\u6599"})}):this.state.ShowingCountries.map((function(t){var n=t.flag,a=t.name,i=t.alpha2Code,l=t.alpha3Code,s=t.nativeName,c=t.altSpellings,r=t.callingCodes,o="";return c.forEach((function(e){o+=e+", "})),o=o.replace(/, \s*$/,""),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:Object(h.jsx)("img",{src:n,alt:a,className:"tdimage"})}),Object(h.jsx)("td",{className:"tdOpenModal",onClick:function(){return e.OpenModalClick(a)},children:a}),Object(h.jsx)("td",{children:i}),Object(h.jsx)("td",{children:l}),Object(h.jsx)("td",{children:s}),Object(h.jsx)("td",{children:o}),Object(h.jsx)("td",{children:r})]},a)}))}}]),r}(o.a.Component);u.a.render(Object(h.jsx)(b,{}),document.getElementById("root"))},195:function(e,t,n){},213:function(e,t){},215:function(e,t){},224:function(e,t){},226:function(e,t){},251:function(e,t){},253:function(e,t){},254:function(e,t){},259:function(e,t){},261:function(e,t){},267:function(e,t){},269:function(e,t){},288:function(e,t){},300:function(e,t){},303:function(e,t){},329:function(e,t){}},[[190,1,2]]]);
//# sourceMappingURL=main.be9d62dd.chunk.js.map